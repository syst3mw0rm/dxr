Rust plugin
-----------

Work in progess, not ready for use.

This plugin is disabled by default. You need to set disabled plugins to something
other than 'rust' to use it. (TODO that is probably wrong, we need to hardcode it,
so that disable='' -> disabling rust and it needs to be explicitly enabled)

Unlike Clang there is no mechanism for plugins for Rust. So the strategy is to write
a program which uses the fontend parts of librustc to do a normal compile pass,
but to output csv for later analysis, rather than llvm ir.

Strategy 2 - hack the compiler to output dxr csvs and make it more generic later...

TODO
----

TODOs/refactoring

scopes so we can query items in a module, class etc.

multiple files and paths in one crate

multiple crates

sort out the lhs bar

rename dxr -> dump ...

jump to stdlib index somewhere for stdlib etc. refs. (maybe this will come out in the wash; doubt it)
  jump to docs or source, maybe
handle calls into C via the FFI using the clang plugin (and vice versa, I guess)
effects of functions (purity etc.)
  other static analysis type info from the compiler

how to handle macros - are we checking the ast before or after expansion?
  - I think after, and this is kinda busted sometimes

can we refactor to share python code with the clang plugin?

Need to add a layer of indirection for ast ids -> db ids (in the dxr (and clang) plugin) so we
don't clash with rows from the clang plugin (or make the language part of the id or something)

compiler warnings

items
-----
  super-traits/sub-traits
* impls - record impl defs but don't htmlify them, find impls for a trait; find impls for a struct
* type decls (typedef thing)

modules in other files

method defs + refs
  static methods
    trait refs in static method calls
  virtual methods
fn defs + calls (add callers/callees, other stuff)
  + fn refs = calls + stored into a var + other?

multiple crates
  extern mod

type param defs + refs
lifetime param defs + refs
...

other ways we can get a fn_decl - methods, closures, inline anon fns, procs, bare funs


